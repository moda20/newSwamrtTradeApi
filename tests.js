const axios = require('axios')
const fs = require('fs');


const WBNBAddress = "0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c";
const singleSwapUrl = [
    /*"http://localhost:5000/api/SingleSwap",*/
    /*"http://localhost:3002/api/SingleSwap",*/
];
let singleNumber = 0;

const getUrl = (number)=>{
    return singleSwapUrl[number%(singleSwapUrl.length)]
}

let paths = [
    "0xC5e2cbaa8586D4797750B677697059a538283440",
    "0xd071Af7B6dbF36303ed15cA66d3A6bB026C02b14",
    "0xdBCD8c94CE30D5eA3E312f2Da1c3932aa2F014Af",
    "0xbCce4C692ce62AdED2Da8189fdca7af989D1EA78",
    "0xE468004e91147bF808BeBDA6b6901bf91AcAbD6c",
    "0xF77EFbB086E20813E3De17720204b5755e795E48",
    "0xc2B234AeE89d05C48AEB6d2687F087F34dC9248E",
    "0xBf3D5083fE56A126d76Ec9b963AFfed03082A539",
    "0xF3c80F567b9070358f2298BfcdC88276C257491E",
    "0xd0A6CDb029c2240a1e7F9352Aa1E8d2e85E81bB3",
    "0xf3402AD90b3229b204B5AD74Cb19363789844f6d",
    "0xf9eFFb60f85d6F4c4E54FDF5072A586cdc01640C",
    "0xBda320ef30a21a3E260685C4080d0940a8ce270B",
    "0xF5D1895A6cF383694BEE772F9FDdC765E8026597",
    "0xD8aE48cE7634fd2E5D0C6C6af01870eDb64E2122",
    "0xD31F0C6e1c7ccef435831aec86B4fBF640f5E473",
    "0xCc594A51Ea8D6C37BF9d50D6a1c0316DeccB0679",
    "0xf2a3D2484d2A440d12D037894F2F4639d2397494",
    "0xF0F8D878d0277e06dBdC9393d2b1745c54FdE762",
    "0xdCDD693A95D6beb8D6184424BfB833e4c844df12",
    "0xF86990bD22481B21CAFbc375e813d255d55Ef421",
    "0xC8DEA5f10ba0187Bcf9E04dd027F5B379b2709a1",
    "0xcaa66D2D193d36a418D43DC47175Ad812151084B",
    "0xCbC0E0420Cc807Be01Ada56c6b7110350a5Fafb6",
    "0xD10Bc335996d1F88Ef53e0caBdA095909362353c",
    "0xeD959A419eD8e5D5592Dd34333eF0Adf766F220C",
    "0xF21b427EbE548057105039a0F769F6Fc9E521871",
    "0xffa3fD77a56dD5eAB149d1da316EA2E946967194",
    "0xd1aa0C988500A8c8Bd3E56019855D04BCaB0D738",
    "0xf798c61c36C1669830e90a4Ab9DA55389344856C",
    "0xeAB1D4d91590E6DA12DBf99f75A901fBfa1d702D",
    "0xD1d821201fa564849125e2A7e849C5C253D36812",
    "0xCa3Db8fa06DD0C0De53C071C731F5D9F379c809C",
    "0xf31c01B83Bc20611fa9ee99F7a65eFB5e84A7063",
    "0xD135C773FD7AE577901C462e34B2131e238fC2Fa",
    "0xee7BaCE43fA0310D2C2B4B00B6A8e9D6f7B5454B",
    "0xdaEBa9F18945760687b36dB173EB5909ABab62CB",
    "0xbf513b2a833A6e765950243aD49fF83056170E10",
    "0xF0C9ec50A012e265e3D834EEb18bCbC6A5034258",
    "0xe3F52E79C60870445DbB29608c08a4fC68C08bcb",
    "0xcE9F9FeCdc047d9F787b11761B983f44E3E2CcBC",
    "0xd41bcCd6A057Bc6dCF4226Bb74Ed0aDC7A81aD59",
    "0xdFF7902e7B1eCb4B1A3F249CEb0D45C627932ED2",
    "0xD35917E5585F68994E6e6B230711797e74B25A61",
    "0xbDB72eB00164D9a10d5bEb885D0f025dCd3AB6C7",
    "0xD5820790277AE8B02D13D3Cef4e08f6E940beDfd",
    "0xD73f9fCa1307f72700f378e90419Df5887854d7E",
    "0xBbA429BE2A79944e7793C9D544eC4b1F0564B0FD",
    "0xD7442372919d28246c8668864169a41603a06bE8",
    "0xCCb09B89c2779d5d5e76FD119Dd81e84a1126e19",
    "0xF6B050570980c490Db5318970741Cc2848284eB9",
    "0xec60eA2dFD3252127dAC50e4300328B6e0803597",
    "0xe2bbB46770C7482743Dbfe8e86e4943Bbe25D374",
    "0xD7c94cf359259C7BaCE744A26B65e785b3b27e05",
    "0xC2A25809fE6c75c42eD9ccf67Fc43f34B9ED9927",
    "0xdc4dBa47937D59E7A6F49a30Fa6e45dDB58a4e4f",
    "0xE4F3ab370D09380BD5C7c86e08baa66a463041db",
    "0xfcC9F5450dda4bb2087b01c7983445b27cD180a0",
    "0xC78A91f37144DDEf48A9d59FfaA4e5eB3C6377Ac",
    "0xF8ce4F88632F4e9046cBb606594d5B79632C25D9",
    "0xDBB22eAFd57D75171D4b218241ee659f8292da84",
    "0xf933b682076b4Bb4F5d5706E1Fe0c5703a68883F",
    "0xc8316FF7959f20BA12E0e433A023072414F615D9",
    "0xe5E56c4065D52E3ef49dFA3e5C239238800c2f5f",
    "0xc242b6A3983e90D279ed68aC70f47CFC7e5e1e1C",
    "0xd92D12Dbd40a903A4623d03013d670871147a604",
    "0xe5c2825d68eE22D1c5d8012d1Ac85D1e2F6F8eD8",
    "0xC4385596d989601cB53EB2AC23170c3076BBF8C7",
    "0xdD575Ba81F228a559c91b0f72e351FF1ED997cdE",
    "0xDaFC9331da0FD9a2bC7341942576aD70D72722f6",
    "0xE7C7db72D4a2F06dc6CB816eb36C2e3543790640",
    "0xC29db8e9BBB0fcBA9F96bb134eBe1b5F2245F765",
    "0xd0C8a4C77ec37c43BB6D8E7AB88D8fd9aF59b304",
    "0xc0E107B642DBd53375eF4224C04BEa4658Da9Ab6",
    "0xE450F29C9c85C4F06397667261BaD1198f371739",
    "0xd18D3DcfA2648b49d67FF01D4Ac151e608e5B408",
    "0xf5dbcEA1b71f94D81C8A356848C57C6B874b1308",
    "0xF37a4522f6Ad7ce359e7Ff51F1B5547a28541C21",
    "0xE8e8FBc6c0C95d6226F0B38BE2B40380DB9C91C1",
    "0xe4F2641643ad92378c66d7591fA420bb6F7bF087",
    "0xE57C58A951fEf031F4399CaFB495bfCcCcBa4BB5",
    "0xc22FB567211771d85e6761ed9eC18bFCAA05a116",
    "0xcBC57086F4cf5C333406962B8581AEaa94B308d6",
    "0xe6dc0E6CbA62B62fd5426ccE6A3a3d08cA68F999",
    "0xC12F7323d8e208f05514F8F9b7D599C70DEc9Ba8",
    "0xD5A280A91e16bfe7c3Dd42CA200e89a793dEd357",
    "0xD9B710F7502f007DE39f14aeA24C4C42F635A9f3",
    "0xcbC3E42b156A649f5174A9128Fd9cdf3352d5267",
    "0xd68A5567dEEd467C45A6235e77cFbEC5DCE44D04",
    "0xC45f6B59Fa2746Ec8BDB3c556E934eD1cA685Ad1",
    "0xf98C0730C2b1eCE6B89C1674466E585f0cfDDe7b",
    "0xed437B2018820c3D5b7494d38d58991f0454Ce7f",
    "0xc7F7D783DE55Eb42fE44033d2ac20e0628ceab2e",
    "0xf27A9B212db322906507CF000667b511F10C2446",
    "0xeb5Fe5F116737e73aF4792F581b7E56911AD52e2",
    "0xd9c99510a5E3145359d91fE9CaF92dd5d68b603A",
    "0xfb87d0814E534757Ac2e5Cd1F9Bcf349733C05fA",
    "0xc84935eF9e21C1a07Bfb4CfB1e33a1a7ed2AFE17",
    "0xEe7fCb0C8CC04B1453008079CE76DEF9A7a653eD",
    "0xd1D982d22f6d1DcB8224fd45D8a22FC986c2ea0e",
    "0xCb2A022C319B1aA38FD788c953e5ad3BE297F3aD",
    "0xE0F0efDA8d1981865B651296F3f5Ab177c72695C",
    "0xE9911c5CAa8e57d58A266Df5BF01382218384A86",
    "0xDcE1CED8f0630F5F35D0dD572E9E04e1fB7f7D69",
    "0xbEc006D8aBBa108A6317f89d5eBe625056202D0d",
    "0xcB7923F1521c28af5DAE492D1ca1776B643D035E",
    "0xeF52250C313dF3321cE27290092cd9E984e6F33A",
    "0xe0dc1F26f9357fdE9Ff72334Abc2264eFD00fb7c",
    "0xC425371f8f0530687355ac700Eb3802Fa5967a5A",
    "0xD8D378Af54df72e630eE61B744139306ffEBf5c8",
    "0xDb0f2C2C11038c0FC75847fFd1DC07E76b2E6bb2",
    "0xF390589Fa93704196971bf05A3A4997Db4662EB3",
    "0xe7CcE378866ae4317f87E1BcaF8d090BD918d74b",
    "0xED0760038818345b51Df2322b6299D780A970dE5",
    "0xCdF0b5994cA4c268De5acEF116D148AC26499aDF",
    "0xc8228a2dCe3F2BC63cf047Cf86E2248769e89b24",
    "0xFdFA473701713E714E07BE702a1033af17c6Cc2B",
    "0xdEAe3963C2154B931388d45cd9014457aad49c39",
    "0xC32EadD8d71aF4B4af56cD5434143EF3bd1c0A35",
    "0xC0449fCa8576591daDb1b3bdfA45dde977ad24Cd",
    "0xF4c0A39cE6fA019Cf350bbfb3c8C6f14F0b36F57",
    "0xc41ceb8454aded0Be462E6C4f69db9E22e4ECb7E",
    "0xccd004257FE12D54235438879d685E599913D90F",
    "0xEc7982dcacF6E518BF61FCB5B11172637F6498a4",
    "0xC5267B82ac6305B05688Ab08Af9E9f5A311905d9",
    "0xbe218b17Bbf76e8d957E83265087115E2056c5a7",
    "0xE417C9CfcABB143db7ABf00279BEc81D53F3646a",
    "0xdEF40E99aD0e0108838fE7E3b57913bf43D58747",
    "0xFb5aF5d99b7DA462843fed778d17483409B17349",
    "0xcD62e071D47660Ca080244AEC44A1dee6F7A7D30",
    "0xDc96Af4c37B17E4aE38D3E686fC543B871aD144C",
    "0xe95fB3Fa14420A0c69Bc2D9C86C58BF94cDb693C",
    "0xdFD5EeD88e0B6952CEF25d5445f692D85b6b0957",
    "0xF973411435be75CB4CD8B916ea6FDfd42d655688",
    "0xC64617552D626E476aA2Dbd7BEA1f1F2d62833b7",
    "0xC319f63E12535617F743E3a84763314305EAD9ba",
    "0xEd5aDaDa74C3F17cE97F8BcE7a26eB88e8fCfd06",
    "0xc38df950D0f6CBE5e926BD50458BF156B912C810",
    "0xCDDb9F34D6a48e5d051561E6D9Fbfc96050cd429",
    "0xDF202fCE3283370289a0acf7c9B7326722c009Db",
    "0xd584F3Cb61719b886cFb45785a20E1F83f84A0c1",
    "0xbCc465548a33979412fB0703C2951aF91C872e6C",
    "0xde2DED9E008EAA49819271A02AB97fAD6Af4FA6d",
    "0xEbda2226511887fBAe97577aC73D93ac2b8d2827",
    "0xF2307B7d43500f8Cec3Ea69b64072de0D2C2e968",
    "0xEed5A950cDA0339d8e28716c9b56130553f10d03",
    "0xe46Ae0c7B35c766b90E3C7439f1878Eb199E4948",
    "0xDbF6A6A353bF0201224f6216c1BE0C2D0b7ceB60",
    "0xC574a484f1D5AC60854a159e9CbF193390Ee381A",
    "0xe8dAc7f5dAC7200289DB42F5B4271Fea13D2CF9f",
    "0xDe65446a52465cF47a3d1a4Ca1D1dEB478e6510D",
    "0xC73294cABAefFC60D3B5259EB3958Eb17a749643",
    "0xff4787C85823d1F947eB57E75c46d93f220eF247",
    "0xc543671F757F446f7d95Cf87b16e5FCaE16Eac70",
    "0xf5f89237a6d3d4Ea4aA3C96c0a8D6587A9bCe1c6",
    "0xF931F52aDE57E71117a256A977391e57AD914000",
    "0xE8C86C9813Cbea1EbC80ADb7bb63a172994DB894",
    "0xEd574b4F6B68FE78D989B5AA8Aa86F1357D524FB",
    "0xFfba11B413E5a1383B0b2B301317986e4F47797E",
    "0xdb35b09A01c763E1edDD7bDAdDFe0BE7698C87a7",
    "0xFADa2057A5Bb075b3cEAeEAAc20F98BC72C0cfbE",
    "0xc7b470faCf6482B620e4109fE9101BB40626d4e5",
    "0xc66a958de675972c8d574FbA75B89B1e5DF09fB9",
    "0xFd90715371e643803D1215EaEb519c3a5231D4db",
    "0xd532c3a692fdDD1E946e2E5723A0700FEbF6F7Bf",
    "0xd0d456F6d7CcAaf1A397de455C5E13A39a743cb3",
    "0xCb398d0F76706412489E85cAE6f0A50c85c9b103",
    "0xC40C9A843E1c6D01b7578284a9028854f6683b1B",
    "0xFDa20cAA9279aa23bD8f954029D4a01e05c625Ea",
    "0xC096c94eC66b2d57ea34d25a427e01Cb12234903",
    "0xd8Ff011E1aE017969B3580328f96274DC13C10e3",
    "0xFCf8d9A60Cb7A3659a65e007c20f82D957804f25",
    "0xcb524b7e4bbF4594f3B0196d161Bfc4c20E66077",
    "0xe0Ce8548b02E1c8F7DBF15BdB6489D2ab8F46fD8",
    "0xF248a0bCF8B9b3B527099e152ED3EBEf40Fb647E",
    "0xbfF01326295afAdbB9763495E83d2D2f7ddB2e36",
    "0xeDE6F02674c0dDB424c60cffB5E12d533e64E948",
    "0xDeb9eB18DBc28bD3a4C5caf0C92f5eC3050788c9",
    "0xc9900c6F7d94B6cd3148392E03F38c0d7cD7A87D",
    "0xcFc3e9ba2B3E2D1064968b12a2c71d111f364965",
    "0xcfa2aFfb67701965AC780Fe7ff59a1aA6c87d840",
    "0xe8456bfFE7F4283849d549393B74CFd1F9017637",
    "0xeC445C9517bE059Ff8928744185CA886721F740c",
    "0xd14dE513Fc3e8513EdfCD786a887bb37630AFBD2",
    "0xda6c5AA0ADB1392174536F29bAa413b606F0B8e8",
    "0xdc105933F8F0ca78515E62980F9B0205D366fc9e",
    "0xe1eA2E1907d93F154234CE3b5A7418faf175fE11",
    "0xC67A5C761e6112fc7aA7f058E8493cb6927552de",
    "0xf581A06ac3735E4d0cb90b6ADCb4FF2B8c7f1B74",
    "0xD566e23953E15fDE8e2C2a8aFAf1E779A35f19F8",
    "0xDF3937f5C6400C1EB4f8DcA1156957D7077cc797",
    "0xF46499b0079b1918862EEba74dd5153f699032dD",
    "0xC8B9D54fBd11401d37702eBBf939C444762CC7F0",
    "0xcDe5795E186FFFa2141d47521E48664EB4184a7B",
    "0xde1B9ed6b7bcD89B385B0Ab74677566e131CC744",
    "0xEFDe3314C731826AA8669CBeA3ed0A2A441F137f",
    "0xdb5E65cF9dF7F2667A8F38426834e8D2dEb6e586",
    "0xD0B9A38a59CEe882159caF2C5139c7182A905ac6",
    "0xC69fD387D9f83c9671C90B23aDF68Dd44c4AaB57",
    "0xE82860Ee3E6dCCf4256f363331387714E47E26Ae",
    "0xC33E0b83D395FBBa0e2E463b10029F8379AD9c7e",
    "0xc21FC8b49f25FCc0d23F4fa7a85d9f1098b417cC",
    "0xc3cD4cbDD7A61Aeae92B50bd236B677CCDeeD38F",
    "0xCCeCc098A3831026fD63A3C1b45F93AF98ff398C",
    "0xf8eAD39aD3E0dEa1D4dE560dfFf4108864E53Ab4",
    "0xbed3850a00Fd9E65ca528017b48bF01b6Ef424a7",
    "0xBfC7217bC45222A0FFbc75877099B165F4805AB5",
    "0xEC68bDB8a994346640285b594e5996d6ff76d05f",
    "0xdE587e23fD045DceA468e1E656C4D1E993f064D4",
    "0xeE877c19206D372Adf990aAc29A84f77B781BD20",
    "0xE23252A31E00AFb2D0FC6a4e305Fabcc0d70F3Ef",
    "0xDCA9c6324d8D4b254760671620B4E71EE8101406",
    "0xe4A4dad8aE8643993020635267148d845B33adF3",
    "0xF198DAbc456C0bC7c7bfE005DB4cAF09b864E717",
    "0xbFbcad0b1Ec7D3b01b142Ed181851A04b6e37E1A",
    "0xDB0b17cC19E6e339B6E9B2Fb9FC24A2BDE53d8A3",
    "0xE9F446ae8aA7c928802Af5b3556187174A5EeBf0",
    "0xF315cfC8550F6FcA969D397cA8b807C5033fA122",
    "0xC2116246E8e26AFe37462ae73a94b950fE168eE1",
    "0xD50787A5f21bcC10C1a738E7DE33001786c5fc24",
    "0xD1f4Cd3ECb7b8770bDe6631775106431a74901BE",
    "0xC6bDdF185B770557c9e4dB4C0986BBfBEE7F9cCB",
    "0xFc32FC7326C5DE142F5A27F541C753eB573553b0",
    "0xf1444BA0a4cB4D30ECA36cf5B7e08A7c398d7fD0",
    "0xE7b5636c82b8866Db1229fa3540dcaE2c5C02d09",
    "0xDd186B1795217EFd4eE96ad790ece3A6fB93d91F",
    "0xeE17B73b548eEDcA33Cc37c762b9fb8AD0d4c369",
    "0xe8CbfAcC14aB24cFE5DD25e2485ddC6541A1e538",
    "0xcCeed956a770b616345558D73DBc7f7B4F355E91",
    "0xF35f4cA816e346E01207529EB6C18b8eC76ACA94",
    "0xFD29780352c821F76222bF238f7e8a62A6419121",
    "0xe2AC7A66bd59Fe5cD16F96F4D999ac1749Af9cDD",
    "0xF3d536CA6f290e4170cccDEe75fBeBa18c246BaB",
    "0xE8398E6c85fF8000AC5dc20F0C91304c0AeccfeC",
    "0xDDB31903Ab1036D3E934EEd42eACf97903499146",
    "0xEb0fd65f677652C0Bb9b1B3414a6138c24E4Dac5",
    "0xe6d91b7A861ce9FC9d941a70CAA21dDc52573b4E",
    "0xEaC7dBda8Cf3e3C29D1b92A365e9ec161190BD12",
    "0xE9831B8B0CCE8981c00803f76deED3823f4a9678",
    "0xe1DB3d1eE5CfE5C6333BE96e6421f9Bd5b85c987",
    "0xF5EDBfB20ecED021D107c31C936BA4Bb4Af25CE9",
    "0xD1d377BAbA1cB040ce1974841b50710A9a5Abc5D",
    "0xF93B8fa6F33f21a904107F144d1c1c40bc025949",
    "0xc5962662C36e81D80FDEc80BDd15F012B3C34b0f",
    "0xEC5490Aca63BcC5BA6601772F7a3F65EcB7DB9a0",
    "0xCE0B8c45A403fAb9e71bb83b1470Fa8514B494DE",
    "0xe4EA3ad1bb0Ca668B35f1bfD33924c6CD351ED1E",
    "0xcE2baF214FF6EC04220087C4fe5F066c4021ea45",
    "0xdcB487F8fbB7B3eD01FEf604DAAd15580130869a",
    "0xc7a56B8D28954778a736968372eCf592938c585D",
    "0xef318E00242dD37b90D20857f00F336e6Dd7D438",
    "0xE8618fe755153b4510008f9cdD57b99f9a581fB8",
    "0xF90E3D3e0bE1fA5a0bf50b8bF1a84888c49A0098",
    "0xd6CD98911Ac10505bccB5261727734963e46757b",
    "0xeD22F202a1c0d1B32D3736A7ECf1db93644508f7",
    "0xD4E5A4C970B39C5283AaAcdCD01E6D438D5F6C35",
    "0xE23b584B5573926D4C9C9A00A631C405A59088e1",
    "0xFD26BfDc6d9f4A66359e1e4F4b13c8bEbF7F519c",
    "0xE2fdE1d7BFfF8234Bd12330Dc5b39c7af39C2B83",
    "0xC39Fcf876739a1A9CFfe2404b79992EC8A0d4152",
    "0xF26a7305F2539B798D4e6069f1770440348702FE",
    "0xF6856819FA9F28F0a1B263271B3489495025ebF7",
    "0xee5B8AC1Ad03E0438d4144e9C37B48Bf55E90396",
    "0xf43A0843B5bb94902d8B36717691278a653427A3",
    "0xBBe44986B4CA033CA90Ff4201D2C23Ab9e0D4EA2",
    "0xEfd2f4a9c9Cb3b91dc2B69d3CCBD459F4bfcB515",
    "0xbFAC62f269F8845555d2A47a96Ab9FF260B4a550",
    "0xecEbCDC98d896036E96dbC76F3649382493dc579",
    "0xf6C36948C7E01b6bda1dC1246741bE00b292501a",
    "0xD2a90Fd34680a55E55d0ECdad76bA0B3759DeB61",
    "0xd6052F22DF883319814C67818d9A0c483cE235B5",
    "0xD162925650bBBbEb1F6A2d68699e92543c3b79ce",
    "0xFCEC0f54138df5d35F7Ce1B001Ce6A093857Fb20",
    "0xFFf2D7031e18507FAE85A115F8d5CD9840CA253c",
    "0xf44d02d6f5125219C5541E5b0aEa446Cc20b0696",
    "0xF73525774c6c17BCbF648a702A219886998A9374",
    "0xEc27e46F7a704C8f5113fa4d4d335d5564B57946",
    "0xd6f541FA56909A1F8aF7276b7504f77F3dbC09a5",
    "0xC5476638C804F6d328F94ac58474613498E333B1",
    "0xcCd620DB20ebF6386D29E97E5362C0b60Dfa6576",
    "0xd73c11b7323236265898D41C03bd46B1c3357e72",
    "0xF4A4D4E34f8C40727071f1089880251e74B5D7cF",
    "0xEC5d71CcDfea900d9194cC62BAd428992adCEC02",
    "0xD01684690e57fA55f12042C8b2F71C8C7353CC1D",
    "0xE2eD5b5F479891460638C6542076ed71eBe504B4",
    "0xdE0286f03Cd76Ef934727DF3440806424a4c8AdB",
    "0xd2B721142CB1398A3846C450E827584216147d63",
    "0xdFA7C32a23091f44E05100EB1e6159940BfE30d0",
    "0xC431483eC13Ba68C1b3f1f0f90ADE2597d1Cc812",
    "0xEa1C5134648354CCe92D4aC701ef472BD1e0D42f",
    "0xd7bd7C3A119E71cbd19b88597359a1e1723549D0",
    "0xd6B2922e86C263562D119A3Bd3Ecc911Dd455296",
    "0xD41d2Fc012155269b65973132389942Fa7848da0",
    "0xedFB27a7995Cc6f58C6364F629598B34C454F7de",
    "0xD36CdCA7F6313B069B412f20477Cb41259c198b8",
    "0xdF243c83711E26ABeb73436C35af2B5a166c2b91",
    "0xF96aC6f8e7166b42f5C1a3d2a098Caa9E905ac26",
    "0xC6107dFf877FbB8119503468338de9099450c5fE",
    "0xd2F13B9EB0BE012f4Acb650A5B2AfE5b6D6337cb",
    "0xc12FB1d204f7Eaed4FbA2A4754937F93B05a5B13",
    "0xDBF14f7B90c1b5c83e2D4959659BA997d41CA436",
    "0xFf126BB104c0f0959CDb8159baBcC6Eca6720750",
    "0xea2322998529377087fC49b9A2F0865bBD2aC936",
    "0xC8123f50D5E3f0F6e301E86CB7D9271Acb02E6c6",
    "0xF78839B9e972Cf15014843A7Ca5ebf1E321A284c",
    "0xDf5A6AEe3D617caEbbB01dE858Da57173Ec63858",
    "0xCf279A82640D5012bff5CAeA1626a3eeA356B939",
    "0xf997b7d96c7813551c1AF00B124FDEb88154FeE6",
    "0xFB8EaAA7463B65250B9Eaa2Fee9CEe4429F35015",
    "0xE3FD4DBC273851f4881fDBDaAba444867f1E4ac0",
    "0xF328c1C1Ae460c1a3C77943742066c78ae437FE0",
    "0xeCAFAc39F270635972C76424B41d4949CACb9e1C",
    "0xbc3889d4712BDEDdA0b794B75416812dd910f893",
    "0xF853fa960D30AA22B4843cbeafFAeF152498F125",
    "0xECac0BE40Ab2EE2863d9f1F3fADd2691D4FAbbF7",
    "0xCb5B0c1c1f1a23F25CF17584a72bC4a185023618",
    "0xEf672E055700463087ff8d3646E4Fec72cEAB7DA",
    "0xD44558651D9155294a7EbA08DD0e2FAeCa251Fc8",
    "0xDaAc370b67461BAA49e3980B4Bc4738041577E06",
    "0xc30e8085783e2c0D962aD6611DdeD4Ace4c06498",
    "0xfD0206e008f9e90853f3878F02D9775226F97337",
    "0xbcD3FCA7D60e738753E09955C03F75427E42761a",
    "0xeAb8fb7f6619a14B531e4ac7Cf5dbe843a00367A",
    "0xc4f9b4e76FbB20A6083414B3a673549AEE88def6",
    "0xCB8EA8Ec036CDB62C8D5d0636AE3bb14d1aB82e9",
    "0xC9758c4d162Af1442Dd5942451112781B4BF100D",
    "0xEfdAC376ade960632539b7F412f495C18Ec61DD2",
    "0xe6d60DE576591eAd205F3A882b78E4bD577A8935",
    "0xBC5a884385a6e05859c074E22Fd92d4C78AC60f1",
    "0xc1b0bC7087Cc10E2a7a64866d04db925057a70Ae",
    "0xe4a8900C793aE29B2D6188B7a75282748F7Bb3ea",
    "0xCe2b9104D14046F5A0D39c3C97c987Fbd5270c5B",
    "0xd9641aBB417157ac49C8917d224F079dB847361f",
    "0xc33cB86D3F95AA412f23109fBD35D08Bf6FA6B8C",
    "0xf38B9ea518E8AEa708D9129E68dCd70eee450049",
    "0xeFEa224C795f1950F8aA2834Acd45238A564dacF",
    "0xD48A00867265CAEeE7Dab1a4988C1137bf8C9ECF",
    "0xE5Ef623E80dfEB297f94E9DAcB3ED91393F6ad38",
    "0xdd655D9c3865151BCAfb66A2A5442c9329852184",
    "0xBeb0Ce026D5f7F7160881F29A26650DCc78Ac6dC",
    "0xe9F153C513D1473Eb6d29891652d8d5bb900CC1a",
    "0xdf9969565bD7f4Ce8C75967e42F5677a40ec315f",
    "0xFA09838C3A625F775aa34B8343D84698aC191Da0",
    "0xDdA56cdBF4B1b9Ff5D77063ec9DD2F9E885e6592",
    "0xc25D94fc3f8D7bD1d88f89802fe075338F71dEC7",
    "0xe645e280a40ECBb811CbDeC061CD6aCaEa588E0A",
    "0xf0304437184B59833Fbe09ad5eB297DD8A82db9b",
    "0xe288a46F6A06aF44115a11BEF8b63e2d99C6838D",
    "0xDb1730d0C448C404C0653D610B8aDa8749B1D61D",
    "0xC3105e1ad1ADe9B92A15C8E6df2a4bF5B320898B",
    "0xCebA1D1d7DAD00BCfbc91a227abaF2f55724B3Ab",
    "0xfa77CeeAf823DB6F612f68018C01C2019Ed1b2bd",
    "0xe409a098Ef1885250dF3E9F362a6158d97f1Ef3c",
    "0xEcb22B50049720660c61b04F79bBeA44894F53A2",
    "0xF8e42f3F6f6C62D815032870b825aD1BAE36E469",
    "0xC12CaFBdcba83C84fE296F3DF73F01CD1b351e94",
    "0xdDD18b898d2a70C012E461A4fD53E2f11DAeda83",
    "0xFc85EC37453212B53c5054acE9B5E8da4b1894c0",
    "0xE104093976Cf2d46Da74De0A04b3E83EF83F0A1B",
    "0xf15B75df33C522d2788aF92C0d740e922d0a6a0F",
    "0xdd4203593E0F7A86988fd4ab1a2B6242Df5CA7B9",
    "0xDc78519DCac3b788DDc65c6aeaf52F3C5F6DFdbf",
    "0xF628cc4d87Adb84C218779Df097Aa4e96b086F0F",
    "0xe8fF5a04cEa766c54E3B8BEAA605727b97D2182B",
    "0xCc8be6abae92B9872F639320B83917405EE4ADFb",
    "0xD3A3A69c575D81CE8E7cF1298cE760055A5669c1",
    "0xFe64750a32a26D33c0B8315457791336933624bF",
    "0xe5eA721C67944d26E95202F8ceF84D646c099A3b",
    "0xDF20aAd556Eeaaec430A42990268FE3d875793df",
    "0xcAc5ce893880F8c6d45e500Cd8b829DeF57A0Bfe",
    "0xD9D3c99c3811449B51678b6FAF284bFd8c279ca8",
    "0xE530B4486cB2eF2518F0C6aE0fD2A6AD61b53eB3",
    "0xbC7049DF212888B6A59c55711CaAf8aE44F2aecB",
    "0xEEabC5bAeecD855DD2D14111B409e7Bd7Df47482",
    "0xE27f3EBe6c4202268c0B713Dc9C3730692A2440F",
    "0xcE15B457eaBA1eE8089ABbCC8638f537E0cB7D99",
    "0xe9656fCE8d8b222D9d9CDF8c4458cFe810a9c684",
    "0xd0fC457383B495233837776AfD8ac67FC3478999",
    "0xdD26bf7D1f916A8462F9419742d55D48335Eddb1",
    "0xDcDC9D198E3ce826fF4766E29ec1baF600A49C92",
    "0xF5E0efAfEDc221931d11B432C587444213170aF8",
    "0xde2Ec75B1E1572186F3E740F44FC5A9Cd13bA951",
    "0xcA6d62d1AE6Fe748708b057692C4E5853b5EC7CC",
    "0xE7FE3fe3156542250a83C08c5cc35dA6E8E73232",
    "0xc62885b6E0C00FB88D84115EceFBA9bA1C8bb3e5",
    "0xC7Df11e6C00A0f8f980bfE6b1eAeBF7d01CEb56C",
    "0xE4620BECDB9B669a39Fa49Da517E4dBEfC863F0d",
    "0xEcdF262C2ae5d55A608ef96E1d5cF9445c2732d8",
    "0xdE5100cCf5DDc3a3c50772A7ff6d4e7e6CCfdB46",
    "0xD70D3b2B1fff30d822Fb938c46E2205F49D048A9",
    "0xd2170c96fd8302424A67A4CdABb25eF30f7487A8",
    "0xD94F98ff13cfFF47a29bB10deDC96A37F779379E",
    "0xD68b5419328c2a9fe34b8538aE1a1E7cfb0E2Bfa",
    "0xD7F6a4d4873BE5b33e03c0e775c428A9A0b374D3",
    "0xcD7C5025753a49f1881B31C48caA7C517Bb46308",
    "0xf09c76f43688b39bf4b044ac66682A8DC0B67C2F",
    "0xFF46fe5C6FAF4970428fFb7F1ef37Da16a0eB288",
    "0xC604f21e97c932552A6baE8d3F692Ee7127DE0a2",
    "0xbf15481cA3845bB555c666C8C97a188F6281430e",
    "0xeCae1650d1f1C4A75532069f4ef4D3f69E9D5D2d",
    "0xfB1790d7416961Cf3145b44EDc2ef9c28E518bd1",
    "0xEA362A829289F28985F2099320696eCfd2d350D1",
    "0xC75812739059192140ad46162A3e05ED4A639eEB",
    "0xf72B55756028E848c6d44C15edEf6e62d43D1932",
    "0xcA15E0791dC1da0A0fa617da6d391884a9248F23",
    "0xfC75C8b80dab02e0a0Dcd284c9DB97c887eeA18B",
    "0xC70B95D9a066d8Ad5aF759BfeF8EFf0D5466200d",
    "0xff12AC6e93ab0eE19A59428127D83B4669ffA13A",
    "0xBb6529c5e3bf1a5d02c4d4FFe98Ba0d200f3CD18",
    "0xDd7A898f4115eF509DC70c86dF1A908c5664F811",
    "0xE5ccbEe9858d06D4Cdb5d01e2755A3Dd47EB0128",
    "0xc233130344772BF9373076DfecFE948A0E0d5E2E",
    "0xD79F3D8fA889ac660d5d7B26E2af434c87dE9d3d",
    "0xf749f9317E89cA7Bbca84053a0b863c4c5446609",
    "0xFF97Ca591Ff6539c717f6CbecD75A85E8dddd31c",
    "0xd03050657F928Fc32BE7B8Cdd43F574f0c0A9Bb4",
    "0xE4B3fa48dc878872E9E261885448Dcd65223b602",
    "0xeA490356bF3F01fBf410E1e411F231fBe5BF51A1",
    "0xBe3B41C867279a4ECD4D73B03B18384B0e4F4bfd",
    "0xFA972153F302A2d01Ff7acbC9524fBd228C43C3f",
    "0xf642AC0429B194a7355383d9957Aac3d4788ebAf",
    "0xe9f7c7c84a3aF1CDc6Dc7Cec960c09EFb5297103",
    "0xBc49411f35e20Ed8018ee359388FD4bcafedAf72",
    "0xdebf2e91a0a0E7782381Bab05423c0256b5a8FA5",
    "0xc600916b064c71825B0F4Ae0299C868015c0aAd5",
    "0xcb09ABE02b271e0C603B0BAAFDde5dd336e8795b",
    "0xd773bafbe829a529109dF2Ab79815E9738697d4c",
    "0xd630a4554C9ccFbbCcDEbB26e0689e3043E59604",
    "0xD46CeF90427E4f3e9222865c5EB947114Ff2774b",
    "0xBCa67d31adE3B0618207bA3CFAbe225AC15b3109",
    "0xeCa568B324b3e714C7286a159988295E30756390",
    "0xC55aB8e65Fe883cC0D04e4661323A7dE23E90De5",
    "0xc7679e69c5C3fBDb830bD10bBa194FFeCEb2F457",
    "0xD2aC795f2FA6330CF61FD950b993B347270B5A06",
    "0xFf7084914efFBD5abC1757CaD3E67f11d96E6D14",
    "0xFB8e5c2dC0ae1329FAe22DD643cC9c734Ce6cE7a",
    "0xc668268B6d512C20f705Ed2fcC0Eb9255Bd3c5E8",
    "0xCBFc1EA42E719d21BC9E2EF156628A1C5a8afD00",
    "0xf67722194572b7b64fC22e6b592E70B27FdA9c18",
    "0xDD68f1Af457e7373C088Eadf221E28bA2B6D8454",
    "0xf14Ef088D5042Cc7496B16eB41a33E7c831df752",
    "0xeFD9BAB4f4051a633a7bea39A5fca253724cACf9",
    "0xf8F70992bc74e5cFC4B069fBD03a8D428ea239F7",
    "0xdf56dEB84112BeeC3007a7125F916BA66bec5f74",
    "0xf48479A58f7D9533b98a07397806d3Bd63240751",
    "0xC4726d59761a35E3A7e8D4EAc631d034Aa68ee3c",
    "0xF52616A21e9f9f1475305d6816Eb73a6f4D20EaF",
    "0xbE8d00C357df5F965f29FafDe93F8dB869834A90",
    "0xF2ed46e1F6B24871c37DBCF8C49Ca52Fd849bC61",
    "0xFAC677c7De4C8B130FCf3367ea534F28D2756218",
    "0xDAEAaa36C2eF31012A30C4a872f8c97bc649D61c",
    "0xe0A6E4f441506Af289c91ae5858b6855C416f550",
    "0xc3322aE8661d4462741Fb8AeA46a81C75f7750e7"
]


axios.interceptors.request.use(function (config) {

    config.metadata = { startTime: new Date()}
    return config;
}, function (error) {
    return Promise.reject(error);
});

axios.interceptors.response.use(function (response) {

    response.config.metadata.endTime = new Date()
    response.duration = response.config.metadata.endTime - response.config.metadata.startTime
    return response;
}, function (error) {
    error.config.metadata.endTime = new Date();
    error.duration = error.config.metadata.endTime - error.config.metadata.startTime;
    return Promise.reject(error);
});

let totalTime = 0;
let repeats = {};
let stats={
    runs: []
};

const computeProviderScores = (repeats) => {
    return Object.values(repeats).filter(e=>!e.success).reduce((p, c)=>{
        return {
            ...p,
            ...(Object.keys(c.provider)?.map((prov)=>{
                return {
                    [prov]: (p[prov] ?? 0) + c.provider[prov]
                }
            }).reduce((prev, curr)=>{return {...prev, ...curr}}, {}))
        }
    }, {})
}

const computeSingleSwaps = (Prefix, start, step = 2 , newPaths, provider)=>{
    let promise = Promise.resolve();
    let nextPaths = newPaths ?? paths;
    if(nextPaths.length === 0) return ;
    let curIndex = stats['runs'].push({
        pathNumber: nextPaths?.length,
        start, step, Prefix,
        repeats: 0
    })
    for (let i = start; i < nextPaths.length; i+=step) {
        promise = promise.then(()=>singleSwap([WBNBAddress, nextPaths[i]], Prefix, provider).then((x)=>{
            totalTime += (parseInt(x.duration ?? 0))
            console.log(x.duration);
        })).catch((e)=>{

        });
    }
    promise = promise.then(()=>{
        console.log("ended the run");
        console.log(Math.ceil(totalTime/nextPaths.length))
    });
    promise = promise.then(()=>{
        console.log("will repeat the failed ones one by one"); console.log(Object.values(repeats));
        let nextPaths = Object.values(repeats).filter(e=>!e.success && e.retry).map((e)=>e.path[1]).filter((e)=>!!e);
        if(nextPaths?.length > 0){
            stats['runs'][curIndex - 1]['repeats'] ++;
            stats['runs'][curIndex - 1]['providerScores'] = computeProviderScores(repeats)
        }else {
            fs.writeFileSync(`./${Prefix}_stats.json`, JSON.stringify(stats));
        }
        computeSingleSwaps("RETRY", 0, 1, nextPaths)
    })

    promise = promise.then(()=>{
        console.log("all repeats are over");
    });

}



const singleSwap = (path, Prefix, provider) =>{
    singleNumber++;
    return axios.post(getUrl(singleNumber), {
        "amount":200,
        "path":path,
        "minimumAmountOut":1,
        "withFees": true,
        "provider": provider
    }).then((response)=>{
        console.log(`${Prefix} => ${response.data?.input?.provider} : swap between ${path[0]} and token ${path[1]} timing : ${response.duration}`);
        if(repeats[path[0]]){
            repeats[path[0]] = {
                ...repeats[path[0]],
                success: true,
            }
        }
        return Promise.resolve(response)
    }).catch((err)=>{
        let currentProvider = err?.response?.data?.extraData?.provider;
        console.log(err?.response?.data);
        console.log(`${Prefix} => ${currentProvider} : Error between ${path[0]} and token ${path[1]} timing : ${err.duration}`);
        repeats[path[1]] = {
            failed: (repeats[path[1]]?.failed ?? 0) +1,
            retry: (repeats[path[1]]?.failed ?? 0) < 3,
            path,
            provider:{
                ...(repeats[path[1]]?.provider ?? {}),
                [currentProvider]: (repeats[path[0]]?.provider[currentProvider] ?? 0 ) +1
            }
        }
        return Promise.reject(err)
    })
}



computeSingleSwaps("T ONE", 0, 2, null, 0);
computeSingleSwaps("T TWO", 1, 2, null, 1);
